@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;

    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    
    --primary: 150 100% 98%; /* Mint Cream Fallback */
    --primary-foreground: 224 71.4% 4.1%;

    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;

    --muted: 215 27.9% 16.9%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 150 100% 98%; /* Mint Cream Fallback */
    --accent-foreground: 224 71.4% 4.1%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;

    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 150 100% 98%;

    --radius: 1rem;
  }
  
  @supports (color: color(display-p3 1 1 1)) {
    :root {
      --primary: color(display-p3 0.9 1.05 0.95); /* HDR Mint Cream */
      --accent: color(display-p3 0.9 1.05 0.95); /* HDR Mint Cream */
      --ring: color(display-p3 0.9 1.05 0.95);
    }
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;

    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;

    --primary: 150 100% 98%; /* Mint Cream Fallback */
    --primary-foreground: 224 71.4% 4.1%;

    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;

    --muted: 215 27.9% 16.9%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 150 100% 98%; /* Mint Cream Fallback */
    --accent-foreground: 224 71.4% 4.1%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;

    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 150 100% 98%;
  }

  @supports (color: color(display-p3 1 1 1)) {
    .dark {
      --primary: color(display-p3 0.9 1.05 0.95); /* HDR Mint Cream */
      --accent: color(display-p3 0.9 1.05 0.95); /* HDR Mint Cream */
      --ring: color(display-p3 0.9 1.05 0.95);
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--secondary));
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }
  
  .lava-lamp__lava {
    filter: blur(40px); /* Increased blur */
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .blob {
    animation-delay: calc(var(--delay) * 1s);
    animation-direction: var(--direction);
    animation-duration: calc(var(--speed) * 1s);
    animation-iteration-count: infinite;
    animation-name: blob-move;
    animation-timing-function: linear;
    fill: #4d0099; /* Updated color */
    transform-box: fill-box;
  }

  @keyframes blob-move {
    from {
      transform: skew(calc(var(--skewX) * 1deg), calc(var(--skewY) * 1deg)) translateY(0);
    }
    to {
      transform: skew(calc(var(--skewX) * 1deg), calc(var(--skewY) * 1deg)) translateY(calc(-100vh - (var(--height) * 2px)));
    }
  }
}

@layer utilities {
    .content-area::before {
        content: '';
        position: fixed;
        inset: 0;
        z-index: -1;
        pointer-events: none;
        background-color: hsla(var(--background) / 0.7);
        backdrop-filter: blur(80px);
        -webkit-backdrop-filter: blur(80px);
    }
}
